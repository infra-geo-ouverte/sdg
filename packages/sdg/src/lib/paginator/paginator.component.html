<div class="container">
  @if (currentPageIndex !== 0) {
    <button mat-icon-button class="button" (click)="goToPreviousPage()">
      <mat-icon class="chevron" color="primary">chevron_left</mat-icon>
    </button>
  }
  @for (firstPageIndex of firstPagesIndexes; track firstPageIndex) {
    <p
      class="page"
      [class.active]="firstPageIndex === currentPageIndex"
      (click)="goToPage(firstPageIndex)"
      (keyup.enter)="goToPage(firstPageIndex)"
      [tabindex]="firstPageIndex !== currentPageIndex ? '0' : '-1'"
    >
      {{ firstPageIndex + 1 }}
    </p>
  }
  @if (
    (!middlePagesIndexes.length && lastPagesIndexes.length === 1) ||
    middlePagesIndexes.length
  ) {
    <p class="ellipsis">...</p>
  }
  @for (middlePageIndex of middlePagesIndexes; track middlePageIndex) {
    <p
      class="page"
      [class.active]="middlePageIndex === currentPageIndex"
      (click)="goToPage(middlePageIndex)"
      (keyup.enter)="goToPage(middlePageIndex)"
      [tabindex]="middlePageIndex !== currentPageIndex ? '0' : '-1'"
    >
      {{ middlePageIndex + 1 }}
    </p>
  }
  @if (
    (!middlePagesIndexes.length && firstPagesIndexes.length === 1) ||
    middlePagesIndexes.length
  ) {
    <p class="ellipsis">...</p>
  }
  @for (lastPageIndex of lastPagesIndexes; track lastPageIndex) {
    <p
      class="page"
      [class.active]="lastPageIndex === currentPageIndex"
      (click)="goToPage(lastPageIndex)"
      (keyup.enter)="goToPage(lastPageIndex)"
      [tabindex]="lastPageIndex !== currentPageIndex ? '0' : '-1'"
    >
      {{ lastPageIndex + 1 }}
    </p>
  }
  @for (pageIndex of pagesIndexes; track pageIndex) {
    <p
      class="page"
      [class.active]="pageIndex === currentPageIndex"
      (click)="goToPage(pageIndex)"
      (keyup.enter)="goToPage(pageIndex)"
      [tabindex]="pageIndex !== currentPageIndex ? '0' : '-1'"
    >
      {{ pageIndex + 1 }}
    </p>
  }
  @if (currentPageIndex !== nbOfPages - 1) {
    <button mat-icon-button (click)="goToNextPage()">
      <mat-icon class="chevron" color="primary">chevron_right</mat-icon>
    </button>
  }
</div>
